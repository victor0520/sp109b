# 20210505
##　[生產者消費者問題](https://zh.wikipedia.org/wiki/%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85%E9%97%AE%E9%A2%98)
* 生產者消費者問題，也稱有限緩衝問題，是一個多進程同步問題的經典案例。該問題描述了共享固定大小緩衝區的兩個進程在實際運行時會發生的問題。生產者的主要作用是生成一定量的數據放到緩衝區中，然後重複此過程。與此同時，消費者也在緩衝區消耗這些數據。該問題的關鍵就是要保證生產者不會在緩衝區滿時加入數據，消費者也不會在緩衝區中空時消耗數據。
* sem_wait=lock,sem_post=unlock
* 要保證同一時刻只有一個生產者能夠執行。需要尋找一種方法來互斥地執行臨界區的代碼。為了達到這個目的，可引入一個二值信號燈 mutex，其值只能為 1 或者 0。如果把執行緒放入 down(mutex) 和 up(mutex) 之間，就可以限制只有一個執行緒能被執行。

## [哲學家用餐問題](https://zh.wikipedia.org/wiki/%E5%93%B2%E5%AD%A6%E5%AE%B6%E5%B0%B1%E9%A4%90%E9%97%AE%E9%A2%98)
* 哲學家有五個哲學家圍繞著一張圓桌，分別坐在五張椅子上。在圓桌上有五個碗和五支筷子，一個哲學家進行思考，吃東西的時候時便取用他左、右最靠近的筷子，只有在他拿到兩支筷子時才能進餐。進餐完畢，放下筷子又繼續思考。
* 規則
    1. 只有拿到兩隻筷子時，哲學家才能吃飯。
    2.如果筷子已被別人拿走，則必須等別人吃完之後才能拿到筷子。
    3. 任一哲學家在自己未拿到兩隻筷子吃飯前，不會放下手中拿到的筷子。

* 解法
    1. 服務生解法
        * 引入一個服務生，服務生知道哪支餐叉正在使用，所以他能夠作出判斷避免死結
    2. 資源分級解法
        * 為資源分配一個偏序或者分級的關係，並約定所有資源都按照這種順序取得，按相反順序釋放
    3. Chandy/Misra解法
        * ，允許任意的使用者爭用任意數量的資源。編號可以是任意的

## 參考資料
[吃飯還是思考？這是個問題——從哲學家就餐理解多線程同步](https://kknews.cc/tech/jkylnzp.html)